<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"></head>
<body>
    <%- include('../includes/nav.ejs') %>
    <div class="columns">
        <div class="">
        <main>
        <% if(articles.length > 0) { %>
            <div class="is-flex is-flex-direction-row is-flex-wrap-wrap is-justify-content-space-evenly level-item">
            <% for(let article of articles) { %>
            <div class="column is-one-quarter mx-2 p-2 mt-5 has-text-centered box">
                <article>
                    <div>
                        <img src="<%= article.imageUrl %>" alt="<%= article.title %>" width="100%">
                    </div>
                    <header>
                        <h1 class="title is-5 pb-1 mt-3">
                            <%= article.title %>
                        </h1>
                    </header>


                    <div class="pb-4">
                        <% if(article.description.length >= 20) { %>
                            <%= article.description.slice(0, 20).concat('...')%>
                        <% }else{ %>
                            <%= article.description %>
                        <% } %>
                    </div>
                    <div>
                        <div>
                            <a href="/posts/<%= article._id %>" class="button is-small is-link is-outlined">Read more</a>
                       </div>
                    </div>
                </article>
            </div>
            <% } %>
        </div>
        <% } else { %>
            <h1>No Articles Found</h1>
        <% } %>
    </main>
</div>
</div>

    <%- include('../includes/end.ejs') %>

